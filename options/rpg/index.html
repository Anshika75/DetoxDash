<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./rpg.css" />
  </head>

  <body>
    <div class="entry">
      <div class="dialouge-container">
        <div class="dialouge">
          <p>
            Welcome to the vibrant city of <b>VirtuaVille</b>, a technological
            marvel where the boundary between reality and the virtual world
            blurs. As the sun sets, casting neon hues across the cityscape, a
            sinister force known as the <b>Shadow Syndicate</b> threatens to
            plunge <b>VirtuaVille</b> into darkness. <br /><br />
          </p>
          <p>
            In the midst of this looming threat, you step into the shoes of
            <b>Valor Vigilance</b>, a determined individual with a unique set of
            skills and an unyielding spirit. <b>Temptara</b>, a potent and
            addictive substance, has infiltrated the city, corrupting minds and
            ensnaring its youth in a web of illusions. <br /><br />
          </p>
          <p>
            Your <b>mission</b> is clear: Navigate the challenges of peer
            pressure, addiction, and the dark choices fueled by <b>Temptara</b>.
            As <b>Valor</b>, you hold the key to unraveling the mysteries of the
            Shadow Syndicate and preventing the city's descent into chaos.
            Embark on a journey where every decision shapes your destiny and the
            fate of <b>VirtuaVille</b>. Will you confront the shadows head-on,
            seek support from the community, investigate undercover, or utilize
            cutting-edge technology to combat the spread of <b>Temptara</b>?
            <br />
            <b class="enter-link"><a href="./TemptaraTerror/">Enter</a></b>
          </p>
        </div>
        <div class="prev"><i class="fa-solid fa-caret-left"></i></div>
        <div class="next"><i class="fa-solid fa-caret-right"></i></div>
      </div>
    </div>
    <script>
      const dialougeContainer = document.querySelector(".dialouge");
      const prevButton = document.querySelector(".prev");
      const nextButton = document.querySelector(".next");

      let currentIndex = 0;
      let maxIndex = dialougeContainer.children.length - 1;
      let isWriting = false;
      prevButton.addEventListener("click", () => {
        if (isWriting) return;
        currentIndex = Math.max(currentIndex - 1, 0);
        updateSlide();
      });

      nextButton.addEventListener("click", () => {
        if (isWriting) return;
        currentIndex = Math.min(currentIndex + 1, 2); // Adjust the number based on the number of slides
        updateSlide();
        typeWriterEffect();
      });

      function updateSlide() {
        if (currentIndex === 0) {
          prevButton.style.display = "none";
        } else {
          prevButton.style.display = "block";
        }
        if (currentIndex === maxIndex) {
          nextButton.style.display = "none";
        } else {
          nextButton.style.display = "block";
        }

        const newPosition = -currentIndex * 100 + "%";
        dialougeContainer.style.transform = "translateX(" + newPosition + ")";
      }

      function typeWriterEffect() {
        const currentParagraph = dialougeContainer.children[currentIndex];
        const text = currentParagraph.innerHTML;
        if (currentParagraph.alreadyTyped) return;
        currentParagraph.alreadyTyped = true;
        currentParagraph.innerHTML = "";

        let i = 0;
        function type() {
          if (i < text.length) {
            isWriting = true;
            currentParagraph.innerHTML = text.substring(0, i + 1);
            i++;
            setTimeout(type, 0);
          } else {
            console.log("done");
            isWriting = false;
          }
        }
        type();
      }

      updateSlide();
      typeWriterEffect();
    </script>
  </body>
</html>
